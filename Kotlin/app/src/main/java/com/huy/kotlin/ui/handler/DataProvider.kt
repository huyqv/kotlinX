package com.huy.kotlin.ui.handler

import com.huy.kotlin.ui.model.User
import com.huy.library.extension.readJsonAsset
import java.util.*

/**
 * -------------------------------------------------------------------------------------------------
 * @Project: Kotlin
 * @Created: Huy QV 2018/09/28
 * @Description: init with UserProvider.init()
 * None Right Reserved
 * -------------------------------------------------------------------------------------------------
 */
object DataProvider {

    @Volatile
    private var isInitialized = false

    private lateinit var profiles: List<User>

    private val random = Random()

    fun init() {

        if (isInitialized) return
        isInitialized = true
        Thread(Runnable {
            val users = readJsonAsset("[\n  {\n    \"id\": 1,\n    \"firstName\": null,\n    \"lastName\": \"Android 16\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/android16.jpg\"\n  },\n  {\n    \"id\": 2,\n    \"firstName\": null,\n    \"lastName\": \"Android 19\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/android19.jpg\"\n  },\n  {\n    \"id\": 3,\n    \"firstName\": null,\n    \"lastName\": \"Android 20\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/android20.jpg\"\n  },\n  {\n    \"id\": 4,\n    \"firstName\": null,\n    \"lastName\": \"Android 21\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/android21.jpg\"\n  },\n  {\n    \"id\": 5,\n    \"firstName\": null,\n    \"lastName\": \"Biden\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/biden.jpg\"\n  },\n  {\n    \"id\": 6,\n    \"firstName\": \"Black\",\n    \"lastName\": \"Goku\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/black%20goku.jpg\"\n  },\n  {\n    \"id\": 7,\n    \"firstName\": null,\n    \"lastName\": \"Broly\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/broly.jpg\"\n  },\n  {\n    \"id\": 8,\n    \"firstName\": null,\n    \"lastName\": \"Bulma\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/bulma.jpg\"\n  },\n  {\n    \"id\": 9,\n    \"firstName\": null,\n    \"lastName\": \"Buu\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/buu.jpg\"\n  },\n  {\n    \"id\": 10,\n    \"firstName\": \"Byakuya\",\n    \"lastName\": \"Kuchiki\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/buu.jpg\"\n  },\n  {\n    \"id\": 11,\n    \"firstName\": null,\n    \"lastName\": \"Cell\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/cell.jpg\"\n  },\n  {\n    \"id\": 12,\n    \"firstName\": \"East\",\n    \"lastName\": \"Kaioshin\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/east%20kaioshin.jpg\"\n  },\n  {\n    \"id\": 13,\n    \"firstName\": \"Fat\",\n    \"lastName\": \"Buu\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/fat%20buu.jpg\"\n  },\n  {\n    \"id\": 14,\n    \"firstName\": null,\n    \"lastName\": \"Freiza\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/freiza.jpg\"\n  },\n  {\n    \"id\": 15,\n    \"firstName\": null,\n    \"lastName\": \"Gohan\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/gohan.jpg\"\n  },\n  {\n    \"id\": 16,\n    \"firstName\": null,\n    \"lastName\": \"Goku\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/goku.jpg\"\n  },\n  {\n    \"id\": 17,\n    \"firstName\": \"Hitsugaya\",\n    \"lastName\": \"Toushirou\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/hitsugaya%20toushirou.jpg\"\n  },\n  {\n    \"id\": 18,\n    \"firstName\": null,\n    \"lastName\": \"Ichigo\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/ichigo.jpg\"\n  },\n  {\n    \"id\": 19,\n    \"firstName\": \"Inu\",\n    \"lastName\": \"Yasha\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/inu%20yasha.jpg\"\n  },\n  {\n    \"id\": 20,\n    \"firstName\": \"Kame\",\n    \"lastName\": \"Shennin\",\n    \"avatar\": \"https://raw.githubusercontent.com/huyqv/assets/master/users/kame%20shennin.jpg\"\n  },\n  {\n    \"id\": 21,\n    \"firstName\": null,\n    \"lastName\": \"Krillin\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/krilin.jpg\"\n  },\n  {\n    \"id\": 22,\n    \"firstName\": null,\n    \"lastName\": \"Launch\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/launch.jpg\"\n  },\n  {\n    \"id\": 23,\n    \"firstName\": null,\n    \"lastName\": \"Luffy\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/luffy.jpg\"\n  },\n  {\n    \"id\": 24,\n    \"firstName\": null,\n    \"lastName\": \"Nami\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/nami.jpg\"\n  },\n  {\n    \"id\": 25,\n    \"firstName\": null,\n    \"lastName\": \"Natsu\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/natsu.jpg\"\n  },\n  {\n    \"id\": 26,\n    \"firstName\": null,\n    \"lastName\": \"Pic\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/pic.jpg\"\n  },\n  {\n    \"id\": 27,\n    \"firstName\": null,\n    \"lastName\": \"Picolo\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/picolo.jpg\"\n  },\n  {\n    \"id\": 28,\n    \"firstName\": null,\n    \"lastName\": \"Poc\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/poc.jpg\"\n  },\n  {\n    \"id\": 29,\n    \"firstName\": null,\n    \"lastName\": \"Satan\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/satan.jpg\"\n  },\n  {\n    \"id\": 30,\n    \"firstName\": null,\n    \"lastName\": \"Sesshomaru\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/sesshomaru.jpg\"\n  },\n  {\n    \"id\": 31,\n    \"firstName\": null,\n    \"lastName\": \"Soifon\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/soifon.jpg\"\n  },\n  {\n    \"id\": 32,\n    \"firstName\": null,\n    \"lastName\": \"Tao\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/tao.jpg\"\n  },\n  {\n    \"id\": 33,\n    \"firstName\": null,\n    \"lastName\": \"Tapion\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/tapion.jpg\"\n  },\n  {\n    \"id\": 34,\n    \"firstName\": \"Tien\",\n    \"lastName\": \"Shinhan\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/tien%20shinhan.jpg\"\n  },\n  {\n    \"id\": 35,\n    \"firstName\": null,\n    \"lastName\": \"Trunks\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/trunks.jpg\"\n  },\n  {\n    \"id\": 36,\n    \"firstName\": \"Uzumaki\",\n    \"lastName\": \"Naruto\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/uzumaki%20naruto.jpg\"\n  },\n  {\n    \"id\": 37,\n    \"firstName\": null,\n    \"lastName\": \"Vegeta\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/vegeta.jpg\"\n  },\n  {\n    \"id\": 38,\n    \"firstName\": null,\n    \"lastName\": \"Yamcha\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/yamcha.jpg\"\n  },\n  {\n    \"id\": 39,\n    \"firstName\": null,\n    \"lastName\": \"Zamasu\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/zamasu.jpg\"\n  },\n  {\n    \"id\": 40,\n    \"firstName\": null,\n    \"lastName\": \"Zoro\",\n    \"avatar\": \"http://raw.githubusercontent.com/huyqv/assets/master/users/zoro.jpg\"\n  }\n]", Array<User>::class.java)
            if (null != users) {
                profiles = users
            }
        }).start()
    }

    fun random(): User {
        return profiles[random.nextInt(profiles.size)]
    }
}